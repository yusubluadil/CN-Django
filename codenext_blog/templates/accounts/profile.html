{% extends "base/layout.html" %}

{% load crispy_forms_filters %}
{% load crispy_forms_tags %}



{% block title %} Profile {% endblock title %}

{% block content %}

{% if messages %}
{% for message in messages %}
<div class="alert alert-success alert-dismissible fade show" role="alert">
    Profil məlumatları yeniləndi!
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}
{% endif %}

<div class="container rounded bg-white mt-5 mb-5">
    <div class="row">
        <div class="col-md-3 border-right">
            <div class="d-flex flex-column align-items-center text-center p-3 py-5">
                {% if profile.profile_image %}
                <img src="{{ profile.profile_image.url }}" class="rounded-circle mt-5" width="150px">
                {% else %}
                <img class="rounded-circle mt-5" width="150px" src="https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg">
                {% endif %}
            </div>
        </div>
        <div class="col-md-5 border-right">
            <div class="p-3 py-5">
                <form method="post">
                {% csrf_token %}
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="text-right">Profile Settings</h4>
                </div>
                <div class="row mt-2">
                    <div class="col-md-6"><label class="labels">Name</label><input type="text" class="form-control" placeholder="" value="{{ user.first_name }}"></div>
                    <div class="col-md-6"><label class="labels">Surname</label><input type="text" class="form-control" value="{{ user.last_name }}" placeholder=""></div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-12"><label class="labels">Mobile Number</label><input type="text" class="form-control" name="phone_num" placeholder="enter phone number" value="{{ profile.phone_num }}"></div>
                    <div class="col-md-12"><label class="labels">Email ID</label><input type="text" class="form-control" placeholder="enter email id" value="{{ user.email }}"></div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-12"><label class="labels">Bio</label><input type="text" name="bio" class="form-control" value="{{ profile.bio }}" placeholder="bio"></div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-12"><label class="labels">LinkedIn URL</label><input name="linkedin_url" type="text" class="form-control" placeholder="enter LinkedIn URL" value="{{ profile.linkedin_url }}"></div>
                </div>
                <div class="mt-5 text-center"><button class="btn btn-primary profile-button" type="submit">Save Profile</button></div>
            </form>
            </div>
        </div>
    </div>
</div>
</div>
</div>

{% comment %} 

{% if profile.profile_image %}
<img src="{{ profile.profile_image.url }}" alt="profile image" width='250px'>
{% endif %}

<form method='post' enctype="multipart/form-data">
    {% csrf_token %}
    {{ profile_form| crispy }}
    <button type="submit" value="Submit">Submit</button>
</form> {% endcomment %}
{% endblock content %}